<div class="product-list-container">
  <h1>All Products</h1>

  <div *ngIf="loading" class="loading">Loading products...</div>

  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="products-grid">
    <div *ngFor="let product of products" class="product-card">
      <a [routerLink]="['/products', product.id]" class="card-link">
        <div class="card-image-container">
          <app-image-slider
            [images]="getProductImageUrls(product.id!)"
            [alt]="product.name"
            [showDots]="true"
          ></app-image-slider>
        </div>
        <div class="card-content">
          <h3 class="card-title">{{ product.name }}</h3>
          <p class="card-description">{{ product.description }}</p>
          <div class="card-meta">
            <div class="card-price">${{ product.price }}</div>
            <div class="card-stock">Stock: {{ product.stock }}</div>
          </div>
        </div>
      </a>
      <button
        class="btn btn-add-to-cart"
        (click)="addToCart(product)"
        [disabled]="product.stock === 0"
        [class.out-of-stock]="product.stock === 0"
      >
        <span *ngIf="product.stock > 0">üõí Add to Cart</span>
        <span *ngIf="product.stock === 0">‚ùå Out of Stock</span>
      </button>
    </div>
  </div>

  <div *ngIf="!loading && products.length === 0" class="empty-state">
    <div class="empty-icon">üì¶</div>
    <div class="empty-title">No Products Available</div>
    <p class="empty-message">Check back later for new products!</p>
  </div>
</div>
