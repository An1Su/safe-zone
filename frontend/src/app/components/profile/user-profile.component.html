<div class="profile-container">
  <!-- Header with User Info -->
  <div class="profile-header">
    <div class="user-info">
      <div class="avatar-section">
        <div class="avatar" *ngIf="!avatarUrl">{{ getInitials() }}</div>
        <img *ngIf="avatarUrl" [src]="avatarUrl" alt="Profile avatar" class="avatar-image" />
        <div class="avatar-actions" *ngIf="isSeller()">
          <input
            type="file"
            #avatarFileInput
            accept="image/jpeg,image/jpg,image/png,image/gif,image/webp"
            (change)="onAvatarFileSelected($event)"
            class="file-input-hidden"
          />
          <button
            class="btn-avatar-action"
            (click)="avatarFileInput.click()"
            [disabled]="isUploadingAvatar"
          >
            {{ avatarUrl ? 'ğŸ“·' : 'â•' }}
          </button>
          <button
            *ngIf="avatarUrl"
            class="btn-avatar-action btn-delete"
            (click)="deleteAvatar()"
            [disabled]="isUploadingAvatar"
          >
            ğŸ—‘ï¸
          </button>
        </div>
        <div *ngIf="isUploadingAvatar" class="avatar-loading">Uploading...</div>
        <div *ngIf="avatarError" class="avatar-error">{{ avatarError }}</div>
      </div>
      <div class="user-details">
        <h1>{{ currentUser?.name }}</h1>
        <p class="email">{{ currentUser?.email }}</p>
        <span class="role-badge" [ngClass]="'role-' + currentUser?.role">
          {{ currentUser?.role === 'seller' ? 'Seller' : 'Buyer' }}
        </span>
      </div>
    </div>
  </div>

  <!-- Seller View: Products for Sale -->
  <div *ngIf="isSeller()" class="buyer-section">
    <div class="section-header">
      <h2>My Account</h2>
      <a routerLink="/seller/dashboard" class="btn btn-primary">Manage Products</a>
    </div>

    <div class="buyer-actions">
      <a routerLink="/orders" class="action-card action-orders">
        <div class="action-icon">ğŸ“‹</div>
        <div class="action-content">
          <h3>View Sales History</h3>
          <p>Track product delivery and view past completed orders</p>
        </div>
      </a>
      <a routerLink="/analytics" class="action-card action-analytics">
        <div class="action-icon">ğŸ“Š</div>
        <div class="action-content">
          <h3>Analytics</h3>
          <p>View sales statistics and revenue insights</p>
        </div>
      </a>
      <a routerLink="/seller/dashboard" class="action-card action-products">
        <div class="action-icon">ğŸ’„</div>
        <div class="action-content">
          <h3>My Products</h3>
          <p>View products in stock</p>
        </div>
      </a>
    </div>
  </div>

  <!-- Buyer View: Quick Actions -->
  <div *ngIf="isBuyer()" class="buyer-section">
    <div class="section-header">
      <h2>My Account</h2>
      <a routerLink="/products" class="btn btn-primary">Browse Products</a>
    </div>

    <div class="buyer-actions">
      <a routerLink="/orders" class="action-card action-orders">
        <div class="action-icon">ğŸ“‹</div>
        <div class="action-content">
          <h3>View Order History</h3>
          <p>Track your orders and view past purchases</p>
        </div>
      </a>
      <a routerLink="/cart" class="action-card action-cart">
        <div class="action-icon">ğŸ›’</div>
        <div class="action-content">
          <h3>Shopping Cart</h3>
          <p>View items in your cart and checkout</p>
        </div>
      </a>
      <a routerLink="/analytics" class="action-card action-analytics">
        <div class="action-icon">ğŸ“Š</div>
        <div class="action-content">
          <h3>Analytics</h3>
          <p>View your spending statistics and insights</p>
        </div>
      </a>
    </div>
  </div>
</div>
